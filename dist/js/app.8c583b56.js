(function(){"use strict";var e={6608:function(e,t,n){var r=n(7764),o=n(4108);function a(e,t,n,r,a,l){const i=(0,o.E1)("battle-status"),s=(0,o.E1)("add-hero"),u=(0,o.E1)("hero-list"),d=(0,o.E1)("v-main"),c=(0,o.E1)("v-app");return(0,o.Wz)(),(0,o.Az)(c,null,{default:(0,o.Ql)((()=>[(0,o.K2)(i),(0,o.K2)(d,null,{default:(0,o.Ql)((()=>[(0,o.K2)(s),(0,o.K2)(u)])),_:1})])),_:1})}function l(e,t,n,a,l,i){const s=(0,o.E1)("v-card-title"),u=(0,o.E1)("v-text-field"),d=(0,o.E1)("v-col"),c=(0,o.E1)("v-btn"),m=(0,o.E1)("v-row"),p=(0,o.E1)("v-container"),h=(0,o.E1)("v-form"),f=(0,o.E1)("v-card");return e.isStarted?(0,o.g1)("",!0):((0,o.Wz)(),(0,o.Az)(p,{key:0},{default:(0,o.Ql)((()=>[(0,o.K2)(f,{color:"teal-darken-4"},{default:(0,o.Ql)((()=>[(0,o.K2)(s,null,{default:(0,o.Ql)((()=>[(0,o.mY)("Добавить в бой")])),_:1}),(0,o.K2)(h,{onSubmit:t[5]||(t[5]=(0,r.Y7)((()=>{}),["prevent"])),ref:"addHero"},{default:(0,o.Ql)((()=>[(0,o.K2)(p,null,{default:(0,o.Ql)((()=>[(0,o.K2)(m,null,{default:(0,o.Ql)((()=>[(0,o.K2)(d,{cols:"12",md:"3"},{default:(0,o.Ql)((()=>[(0,o.K2)(u,{variant:"outlined",label:"Имя",modelValue:e.hero.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.hero.name=t),required:"","hide-details":"",rules:e.textRules},null,8,["modelValue","rules"])])),_:1}),(0,o.K2)(d,{cols:"12",md:"2"},{default:(0,o.Ql)((()=>[(0,o.K2)(u,{variant:"outlined",label:"Инициатива",modelValue:e.hero.initiative,"onUpdate:modelValue":t[1]||(t[1]=t=>e.hero.initiative=t),modelModifiers:{number:!0},required:"","hide-details":"",rules:e.numberRules},null,8,["modelValue","rules"])])),_:1}),(0,o.K2)(d,{cols:"12",md:"2"},{default:(0,o.Ql)((()=>[(0,o.K2)(u,{variant:"outlined",label:"ХП",modelValue:e.hero.hp,"onUpdate:modelValue":t[2]||(t[2]=t=>e.hero.hp=t),modelModifiers:{number:!0},required:"","hide-details":"",rules:e.numberRules},null,8,["modelValue","rules"])])),_:1}),(0,o.K2)(d,{cols:"12",md:"2"},{default:(0,o.Ql)((()=>[(0,o.K2)(u,{variant:"outlined",label:"КД",modelValue:e.hero.ac,"onUpdate:modelValue":t[3]||(t[3]=t=>e.hero.ac=t),modelModifiers:{number:!0},required:"","hide-details":"",rules:e.numberRules},null,8,["modelValue","rules"])])),_:1}),(0,o.K2)(d,{cols:"12",md:"3"},{default:(0,o.Ql)((()=>[(0,o.K2)(c,{size:"large",icon:"mdi-plus",color:"teal",onClick:t[4]||(t[4]=t=>i.checkHero(e.hero))})])),_:1})])),_:1})])),_:1})])),_:1},512)])),_:1})])),_:1}))}var i=n(7192),s={name:"AddHero",data:()=>({hero:{name:"",initiative:"",hp:"",ac:""},textRules:[e=>!!e||"Введите имя"],numberRules:[e=>e>0||"Введите число > 0"]}),methods:{...(0,i.ae)({addHeroID:"heroes/addHeroID"}),async checkHero(){const{valid:e}=await this.$refs.addHero.validate();e&&(this.hero.currentHp=this.hero.hp,this.addHeroID(this.hero),this.hero={})}},computed:{...(0,i.ys)({isStarted:e=>e.battle.start})}},u=n(4100);const d=(0,u.c)(s,[["render",l]]);var c=d,m=n(9096);const p={key:0},h={key:1};function f(e,t,n,r,a,l){const i=(0,o.E1)("v-app-bar-title"),s=(0,o.E1)("v-spacer"),u=(0,o.E1)("v-btn"),d=(0,o.E1)("v-chip"),c=(0,o.E1)("v-app-bar");return(0,o.Wz)(),(0,o.Az)(c,{color:"teal"},{default:(0,o.Ql)((()=>[(0,o.K2)(i,null,{default:(0,o.Ql)((()=>[(0,o.mY)("Трекер боя ДнД")])),_:1}),(0,o.K2)(s),e.isStarted?((0,o.Wz)(),(0,o.An)("div",h,[(0,o.K2)(d,{class:"mx-3"},{default:(0,o.Ql)((()=>[(0,o.mY)("Ход: "+(0,m.WA)(e.turnHeroName),1)])),_:1}),(0,o.K2)(d,{class:"mx-3"},{default:(0,o.Ql)((()=>[(0,o.mY)("Раунд: "+(0,m.WA)(e.round)+" / Ход: "+(0,m.WA)(e.turn)+" из "+(0,m.WA)(e.countTurnInRound),1)])),_:1}),(0,o.K2)(d,{class:"mx-3"},{default:(0,o.Ql)((()=>[(0,o.mY)("Времени прошло: "+(0,m.WA)(e.min<10?"0"+e.min:e.min)+":"+(0,m.WA)(e.sec<10?"0"+e.sec:e.sec),1)])),_:1}),e.turn===e.countTurnInRound?((0,o.Wz)(),(0,o.Az)(u,{key:0,"prepend-icon":"mdi-arrow-right",onClick:t[1]||(t[1]=t=>e.nextTurn())},{default:(0,o.Ql)((()=>[(0,o.mY)("Следующий раунд")])),_:1})):((0,o.Wz)(),(0,o.Az)(u,{key:1,"prepend-icon":"mdi-arrow-right",onClick:t[2]||(t[2]=t=>e.nextTurn())},{default:(0,o.Ql)((()=>[(0,o.mY)("Следующий ход")])),_:1})),(0,o.K2)(u,{"prepend-icon":"mdi-close",color:"black",onClick:t[3]||(t[3]=t=>e.endBattle())},{default:(0,o.Ql)((()=>[(0,o.mY)("Закончить бой")])),_:1})])):((0,o.Wz)(),(0,o.An)("div",p,[(0,o.K2)(u,{"prepend-icon":"mdi-axe-battle",onClick:t[0]||(t[0]=t=>e.startBattle())},{default:(0,o.Ql)((()=>[(0,o.mY)("Начать бой")])),_:1})]))])),_:1})}var v={name:"BattleStatus",methods:{...(0,i.ae)({startBattle:"battle/startBattle",nextTurn:"battle/turn",endBattle:"battle/endBattle"})},computed:{...(0,i.ys)({isStarted:e=>e.battle.start,round:e=>e.battle.round,countTurnInRound:e=>e.battle.countTurnInRound,turn:e=>e.battle.turn,turnHeroName:e=>e.battle.turnHeroName,min:e=>e.battle.timeElapsed.min,sec:e=>e.battle.timeElapsed.sec})}};const g=(0,u.c)(v,[["render",f]]);var b=g;function H(e,t,n,r,a,l){const i=(0,o.E1)("hero"),s=(0,o.E1)("v-col"),u=(0,o.E1)("v-row"),d=(0,o.E1)("v-container");return(0,o.Wz)(),(0,o.Az)(d,{fluid:""},{default:(0,o.Ql)((()=>[(0,o.K2)(u,null,{default:(0,o.Ql)((()=>[((0,o.Wz)(!0),(0,o.An)(o.ae,null,(0,o.mi)(e.heroes,(e=>((0,o.Wz)(),(0,o.Az)(s,{cols:"12",md:"3"},{default:(0,o.Ql)((()=>[(0,o.K2)(i,{hero:e},null,8,["hero"])])),_:2},1024)))),256))])),_:1})])),_:1})}const E={key:0};function _(e,t,n,r,a,l){const i=(0,o.E1)("v-chip"),s=(0,o.E1)("v-card-title"),u=(0,o.E1)("v-divider"),d=(0,o.E1)("v-text-field"),c=(0,o.E1)("v-form"),p=(0,o.E1)("v-card-subtitle"),h=(0,o.E1)("status-list"),f=(0,o.E1)("v-card");return(0,o.Wz)(),(0,o.Az)(f,{color:e.heroName===n.hero.name?"light-green-lighten-4":"blue-grey-lighten-5"},{default:(0,o.Ql)((()=>[(0,o.K2)(s,{class:"d-flex flex-wrap"},{default:(0,o.Ql)((()=>[(0,o.mY)((0,m.WA)(n.hero.name)+" ",1),(0,o.K2)(i,{class:"mx-2","prepend-icon":"mdi-heart-outline",variant:"outlined",color:"pink"},{default:(0,o.Ql)((()=>[(0,o.mY)((0,m.WA)(n.hero.currentHp)+" / "+(0,m.WA)(n.hero.hp),1)])),_:1}),(0,o.K2)(i,{class:"mx-2","prepend-icon":"mdi-dice-multiple-outline",variant:"outlined",color:"blue"},{default:(0,o.Ql)((()=>[(0,o.mY)((0,m.WA)(n.hero.initiative),1)])),_:1}),(0,o.K2)(i,{class:"mx-2","prepend-icon":"mdi-shield-outline",variant:"outlined",color:"deep-orange"},{default:(0,o.Ql)((()=>[(0,o.mY)((0,m.WA)(n.hero.ac),1)])),_:1})])),_:1}),!0===e.isStarted?((0,o.Wz)(),(0,o.An)("div",E,[(0,o.K2)(u,{class:"mx-4 mb-1"}),(0,o.K2)(p,null,{default:(0,o.Ql)((()=>[(0,o.K2)(c,{ref:"hpBar"},{default:(0,o.Ql)((()=>[(0,o.K2)(d,{modelValue:a.newHp,"onUpdate:modelValue":t[0]||(t[0]=e=>a.newHp=e),modelModifiers:{number:!0},rules:a.numberRules,variant:"underlined","append-inner-icon":"mdi-plus","prepend-inner-icon":"mdi-minus","onClick:appendInner":t[1]||(t[1]=e=>l.checkHpBar("+")),"onClick:prependInner":t[2]||(t[2]=e=>l.checkHpBar("-"))},null,8,["modelValue","rules"])])),_:1},512)])),_:1}),(0,o.K2)(h)])):(0,o.g1)("",!0)])),_:1},8,["color"])}function k(e,t,n,r,a,l){const i=(0,o.E1)("status-hero"),s=(0,o.E1)("v-card-text");return(0,o.Wz)(),(0,o.Az)(s,{class:"d-flex flex-wrap"},{default:(0,o.Ql)((()=>[((0,o.Wz)(!0),(0,o.An)(o.ae,null,(0,o.mi)(a.statuses,(e=>((0,o.Wz)(),(0,o.Az)(i,{status:e},null,8,["status"])))),256))])),_:1})}function y(e,t,n,r,a,l){const i=(0,o.E1)("v-btn");return(0,o.Wz)(),(0,o.Az)(i,{rounded:"xl",class:"ma-1",size:"x-small",color:n.status.active?n.status.color:"grey",onClick:t[0]||(t[0]=e=>n.status.active=!n.status.active)},{default:(0,o.Ql)((()=>[(0,o.mY)((0,m.WA)(n.status.name),1)])),_:1},8,["color"])}var K={name:"StatusHero",props:{status:{type:Object,required:!0}}};const T=(0,u.c)(K,[["render",y]]);var A=T,Q={name:"StatusList",components:{StatusHero:A},data(){return{statuses:[{name:"Умер",color:"black",active:!1},{name:"Бессознательный",color:"red",active:!1},{name:"Испуганный",color:"purple",active:!1},{name:"Истощенный",color:"deep-purple",active:!1},{name:"Окаменевший",color:"pink",active:!1},{name:"Опутанный",color:"indigo",active:!1},{name:"Ослепленный",color:"blue",active:!1},{name:"Отравленный",color:"light-blue",active:!1},{name:"Очарованный",color:"cyan",active:!1},{name:"Ошеломленный",color:"teal",active:!1},{name:"Парализованный",color:"green",active:!1},{name:"Сбитый с ног",color:"light-green",active:!1},{name:"Схваченный",color:"lime",active:!1}]}}};const w=(0,u.c)(Q,[["render",k]]);var W=w,z={name:"Hero",components:{StatusList:W},props:{hero:{type:Object,required:!0}},data(){return{newHp:"",numberRules:[e=>e>0||"Введите число > 0"]}},methods:{...(0,i.ae)({changeHp:"heroes/changeHp"}),async checkHpBar(e){const{valid:t}=await this.$refs.hpBar.validate();t&&this.changeHp({sign:e,newHp:this.newHp,id:this.hero.id})}},computed:{...(0,i.ys)({heroName:e=>e.battle.turnHeroName,isStarted:e=>e.battle.start})}};const x=(0,u.c)(z,[["render",_]]);var R=x,S={name:"HeroList",components:{Hero:R},computed:{...(0,i.gV)({heroes:"heroes/getHeroes"})}};const B=(0,u.c)(S,[["render",H]]);var C=B,I={name:"App",components:{BattleStatus:b,AddHero:c,HeroList:C}};const N=(0,u.c)(I,[["render",a]]);var O=N,V=n(56);(0,V.s)("/dndbattletracker/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});const Y={state:()=>({round:0,turn:0,timeElapsed:{min:0,sec:0},start:!1,heroesCount:0,countTurnInRound:0,heroesNames:[],turnHeroName:""}),getters:{getTime(e){return e.timeElapsed},getRound(e){return e.round}},mutations:{setStart(e,t){e.start=t},setCountTurnInRound(e,t){e.countTurnInRound=t},setRound(e,t){e.round=t},setTurn(e,t){e.turn=t},setTime(e,t){e.timeElapsed=t},setHeroesNames(e,t){e.heroesNames=t},setTurnHeroName(e,t){e.turnHeroName=e.heroesNames[t]}},actions:{startBattle({commit:e,rootGetters:t,dispatch:n}){0!==t["heroes/getCountHeroes"]&&(e("setStart",!0),e("setCountTurnInRound",t["heroes/getCountHeroes"]),e("setHeroesNames",t["heroes/getHeroesNames"]),n("round"))},round({commit:e,state:t,dispatch:n}){e("setRound",t.round+1),n("turn"),n("checkTime")},turn({commit:e,state:t,dispatch:n}){e("setTurnHeroName",t.turn),e("setTurn",t.turn+1),t.turn>t.countTurnInRound&&(e("setTurn",0),n("round"))},checkTime({commit:e,getters:t}){1===t.getRound?e("setTime",{min:0,sec:0}):54===t.getTime.sec?(console.log(t.getTime.sec),e("setTime",{min:t.getTime.min+1,sec:0})):e("setTime",{min:t.getTime.min,sec:t.getTime.sec+=6})},endBattle({commit:e}){e("setStart",!1),e("setCountTurnInRound",0),e("setRound",0),e("setTurn",0),e("setTime","")}},namespaced:!0};n(3248);const j={state:()=>({heroes:[],heroesTest:[{id:0,name:"Lev",initiative:14,hp:22,ac:13,currentHp:22,status:[]},{id:1,name:"July",initiative:8,hp:20,ac:12,currentHp:20,status:[]},{id:2,name:"Oleg",initiative:5,hp:16,ac:18,currentHp:16,status:[]},{id:3,name:"Guard",initiative:6,hp:18,ac:16,currentHp:18,status:[]}]}),getters:{getHeroes(e){return e.heroes},sortedByInitiative(e,t){return t.getHeroes.sort(((e,t)=>t.initiative-e.initiative))},getCountHeroes(e){return e.heroes.length},getHeroesNames(e,t){return t.sortedByInitiative.map((e=>e.name))}},mutations:{saveHero(e,t){e.heroes.push(t)},setHpByID(e,t){let n=e.heroes.find((e=>e.id===t.id));"+"===t.sign?n.currentHp+=t.newHp:n.currentHp-=t.newHp}},actions:{addHeroID({getters:e,commit:t},n){n.id=e.getCountHeroes,t("saveHero",n)},changeHp({commit:e},t){e("setHpByID",t)}},namespaced:!0};var q=(0,i.eC)({modules:{battle:Y,heroes:j}}),M=n(7820),D=n(9010),L=n(6332),U=n(3373);n(8985);const P=(0,M.W_)({components:D,directives:L,icons:{defaultSet:"mdi",aliases:U._,sets:{mdi:U.H}}});(0,r.W0)(O).use(P).use(q).mount("#app")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,a){if(!r){var l=1/0;for(d=0;d<e.length;d++){r=e[d][0],o=e[d][1],a=e[d][2];for(var i=!0,s=0;s<r.length;s++)(!1&a||l>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[s])}))?r.splice(s--,1):(i=!1,a<l&&(l=a));if(i){e.splice(d--,1);var u=o();void 0!==u&&(t=u)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[r,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,l=r[0],i=r[1],s=r[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(s)var d=s(n)}for(t&&t(r);u<l.length;u++)a=l[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},r=self["webpackChunkdndbattletracker"]=self["webpackChunkdndbattletracker"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[999],(function(){return n(6608)}));r=n.O(r)})();
//# sourceMappingURL=app.8c583b56.js.map